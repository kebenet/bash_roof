#!/bin/sh

clr(){

    awk -v var="$1" \
    'BEGIN {
        FS = (var == "" ? ":" : var);
        colors[1] = "\033[1m";
        colors[3] = "\033[2m";
        colors[2] = "\033[32m";
        colors[4] = "\033[30m";
        colors[5] = "\033[36m";
        colors[6] = "\033[35m";
        colors[7] = "\033[33m";
        }
        {
            str = ""
            for(i=1;i<=NF;i++){
                str = sprintf("%s%s%s\033[0m", str, colors[(i - 1) % 7 + 1], $i);
            }
            printf "%s\n", str;
        }'

}


#CODE! pipe is coming bro..
if [ -t 0 ]; then
 
    if [ ${#1} -eq 1 ]; then
        sep="$1"
        shift
    fi
    echo "$@" | clr "$sep"

else
    clr "$@"
    # echo 'pipe true'
fi

