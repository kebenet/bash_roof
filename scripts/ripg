#!/bin/bash
#FILE! ripgrep commands


. $TT_BASH/alias_cmd


fn_ls(){

	item="$(list_var 'RG_Regexs' | fzy)"
	echo ${item} | awk -F':=>' '{print $2}'

}


fn_open(){

	item="$(get_var_file 'RG_list')"
	st open "$item"

}


fn_regex(){

	item="$(get_var_file 'RG_Regexs')"
	st open "$item"

}


fn_option(){
	item="$2"
	full='[-]\w,\s(--)\w+'
	simple='^\s*[-]+\w*'

	# check if $1 is -s, cmd =simple else full
	[[ $1 == "-s" ]] && regex="$simple" || regex="$full"

    data=$("${@: -1}" --help)

    echo "$data"  | rg --trim "$regex" --color=never |
    sd -F '.' ''

}

custom_color(){
	# https://github.com/BurntSushi/ripgrep/blob/master/FAQ.md#colors
	rg --colors line:fg:yellow      \
	   --colors line:style:bold     \
	   --colors path:fg:green       \
	   --colors path:style:bold     \
	   --colors match:fg:black      \
	   --colors column:bg:yellow     \
	   --colors column:fg:black      \
	   --colors match:bg:yellow     \
	   --colors match:style:nobold  \
}

"fn_$1" "$@"